<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>R</h1>

<ul>
<li>R is an Open Source (and freely available) environment for statistical computinga nd graphics</li>
<li>Available for Windows, Mac OS X, and Linux</li>
<li>R is being actively developed with two major releases per year and dozens of releases of add on packages</li>
<li>R can be extended with &#39;packages&#39; that contain data, code, and documentation to add new functionality</li>
</ul>

<h1>Why Use R</h1>

<ul>
<li>R is a common tool among data experts at major universities</li>
<li>No need to go through procurement, R can be installed in any environment on any machine and used with no licensing or agreements needed</li>
<li>R source code is very readable to increase transparency of processes</li>
<li>R code is easily borrowed from and shared with others</li>
<li>R is incredibly flexible and can be adapted to specific local needs</li>
<li>R is under incredibly active development, improving greatly, and supported wildly by both professional and academic developers</li>
</ul>

<h1>R Advantages Continued</h1>

<ul>
<li>R is platform agnostic&ndash;Linux, Mac, PC, server, desktop, etc.</li>
<li>R can output results in a variety of formats</li>
<li>R can build routines straight out of a database for common and universal reporting</li>
</ul>

<h2>R Can Compliment Other Tools</h2>

<ul>
<li>R plays nicely with data from Stata, SPSS, SAS and others</li>
<li>R can check work, produce output, visualize results from other programs</li>
<li>R can do bleeding edge analysis that aren&#39;t available in proprietary packages yet</li>
<li>R is becoming more prevalent in undergraduate statistics courses</li>
</ul>

<h1>R As A Calculator</h1>

<pre><code class="r">2 + 2  # add numbers
</code></pre>

<pre><code class="no-highlight">## [1] 4
</code></pre>

<pre><code class="r">2 * pi  #multiply by a constant
</code></pre>

<pre><code class="no-highlight">## [1] 6.283
</code></pre>

<pre><code class="r">7 + runif(1, min = 0, max = 1)  #add a random variable
</code></pre>

<pre><code class="no-highlight">## [1] 7.555
</code></pre>

<pre><code class="r">4^4  # powers
</code></pre>

<pre><code class="no-highlight">## [1] 256
</code></pre>

<pre><code class="r">sqrt(4^4)  # functions
</code></pre>

<pre><code class="no-highlight">## [1] 16
</code></pre>

<h1>Using the Workspace</h1>

<ul>
<li>To do more we need to learn how to manipulate the &#39;workspace&#39;.</li>
<li>This includes all the scalars, vectors, datasets, and functions stored in memory.</li>
<li>All R objects are stored in the memory of the computer, limiting the available space for calculation to the size of the RAM on your machine.</li>
<li>R makes organizing the workspace easy.</li>
</ul>

<pre><code class="r">x &lt;- 5  #store a variable with &lt;-
x  #print the variable
</code></pre>

<pre><code class="no-highlight">## [1] 5
</code></pre>

<pre><code class="r">z &lt;- 3
ls()  #list all variables
</code></pre>

<pre><code class="no-highlight">## [1] &quot;x&quot; &quot;z&quot;
</code></pre>

<pre><code class="r">ls.str()  #list and describe variables
</code></pre>

<pre><code class="no-highlight">## x :  num 5
## z :  num 3
</code></pre>

<pre><code class="r">rm(x)  # delete a variable
ls()
</code></pre>

<pre><code class="no-highlight">## [1] &quot;z&quot;
</code></pre>

<h1>R as a Language</h1>

<ul>
<li>R is more than statistical software, it is a computer language</li>
<li>Like any language it has rules (some poorly enforced), and conventions</li>
<li>You will learn more as you go, but we&#39;ll go over a few to start</li>
</ul>

<ol>
<li>Case sensitivity matters</li>
</ol>

<pre><code class="r">a &lt;- 3
A &lt;- 4
print(c(a, A))
</code></pre>

<pre><code class="no-highlight">## [1] 3 4
</code></pre>

<ul>
<li><font color="red"><strong>a</strong> &#8800; <strong>A</strong></font> 

<ol>
<li>What happens if I type <strong>print(a,A)</strong>?</li>
</ol></li>
<li>So what does <strong>c</strong> do?</li>
</ul>

<pre><code class="r">A &lt;- c(3, 4)
print(A)
</code></pre>

<pre><code class="no-highlight">## [1] 3 4
</code></pre>

<ul>
<li><strong>c</strong> stands for concatenate and allows vectors to have multiple elements</li>
</ul>

<h1>Vectors</h1>

<ul>
<li>Everything is a vector in R, even single numbers</li>
</ul>

<pre><code class="r">print(1)
</code></pre>

<pre><code class="no-highlight">## [1] 1
</code></pre>

<pre><code class="r"># The 1 in braces means this element is a vector of length 1
print(&quot;This tutorial is awesome&quot;)
</code></pre>

<pre><code class="no-highlight">## [1] &quot;This tutorial is awesome&quot;
</code></pre>

<pre><code class="r"># This is a vector of length 1 consisting of a single &#39;string of
# characters&#39;
print(LETTERS)
</code></pre>

<pre><code class="no-highlight">##  [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot;
## [18] &quot;R&quot; &quot;S&quot; &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;
</code></pre>

<pre><code class="r"># This vector has 26 character elements
print(LETTERS[6])
</code></pre>

<pre><code class="no-highlight">## [1] &quot;F&quot;
</code></pre>

<pre><code class="r"># The sixth element of this vector has length 1
length(LETTERS[6])
</code></pre>

<pre><code class="no-highlight">## [1] 1
</code></pre>

<pre><code class="r"># The length of that element is a number with length 1
</code></pre>

<h1>Language</h1>

<ul>
<li>In language there are a number of ways to say the same thing

<ul>
<li> <font color="green">The dog chased the cat.</font> </li>
<li> <font color ="blue">The cat was chased by the dog.</font></li>
<li> <font color ="red">By the dog, the cat was chased.</font></li>
</ul></li>
<li>Some ways are more elegant than others, all convey the same message. </li>
</ul>

<pre><code class="r">a &lt;- runif(100)  # Generate 100 random numbers
b &lt;- runif(100)  # 100 more
c &lt;- NULL  # Setup for loop (declare variables)
for (i in 1:100) {
    # Loop just like in Java or C
    c[i] &lt;- a[i] * b[i]
}
d &lt;- a * b
identical(c, d)  # Test equality
</code></pre>

<pre><code class="no-highlight">## [1] TRUE
</code></pre>

<ul>
<li>Which is nicer?</li>
</ul>

<h1>Reading Data In</h1>

<ul>
<li>To read data in we have to tell R where it currently is on the filesystem by setting a working directory</li>
<li>Then we have to tell it where to look for the dataset and what format that dataset is in</li>
<li>CSV files are <strong>simplest</strong> for beginning use cases, but R is flexible</li>
</ul>

<pre><code class="r"># Set working directory to the tutorial director In RStudio can do this in
# &#39;Tools&#39; tab
setwd(&quot;~/r_tutorial_ed&quot;)
# Load some data
df &lt;- read.csv(&quot;data/smalldata.csv&quot;)
# Note if we don&#39;t assign data to &#39;df&#39; R just prints contents of table
</code></pre>

<h1>Objects</h1>

<ul>
<li>Everything in R is an object&ndash;even functions</li>
<li>Objects can be manipulated many ways</li>
<li>A common example is applying the summary&#39; function to a variety of object types and seeing how it adapts</li>
</ul>

<pre><code class="r">summary(df[, 28:31])  #summary look at df object
</code></pre>

<pre><code class="no-highlight">##    schoollow         readSS        mathSS           proflvl    
##  Min.   :0.000   Min.   :252   Min.   :210   advanced   : 788  
##  1st Qu.:0.000   1st Qu.:430   1st Qu.:418   basic      : 523  
##  Median :0.000   Median :495   Median :480   below basic: 210  
##  Mean   :0.242   Mean   :496   Mean   :483   proficient :1179  
##  3rd Qu.:0.000   3rd Qu.:562   3rd Qu.:543                     
##  Max.   :1.000   Max.   :833   Max.   :828                     
</code></pre>

<pre><code class="r">summary(df$readSS)  #summary of a single column
</code></pre>

<pre><code class="no-highlight">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##     252     430     495     496     562     833 
</code></pre>

<p>-The <strong>$</strong> says to look for object <strong>readSS</strong> in object <strong>df</strong></p>

<h1>Graphics too</h1>

<pre><code class="r">library(ggplot2)  # Load graphics Package
qplot(readSS, mathSS, data = df, geom = &quot;hex&quot;) + theme_bw() + opts(title = &quot;Test Score Relationship&quot;)
</code></pre>

<p><img src="http://i.imgur.com/axnWn.png" alt="Student Test Scores"/> </p>

<h1>Handling Data in R</h1>

<ul>
<li>R handles data differently than many other statistical packages</li>
<li>In R, all elements are objects</li>
</ul>

<pre><code class="r">length(unique(df$school))
</code></pre>

<pre><code class="no-highlight">## [1] 173
</code></pre>

<pre><code class="r">length(unique(df$stuid))
</code></pre>

<pre><code class="no-highlight">## [1] 1200
</code></pre>

<ul>
<li>Results of function calls can be stored</li>
</ul>

<h1>How</h1>

<ul>
<li>source editor: <a href="http://www.rstudio.org/">RStudio</a> (perfect integration with <a href="http://yihui.name/knitr/"><strong>knitr</strong></a>; one-click compilation); currently you have to use the <a href="http://www.rstudio.org/download/preview">preview version</a> (&gt;= 0.96.109)</li>
<li>HTML5 slides converter: <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>; this document was generated by: <code>pandoc -s -S -i -t dzslides --mathjax knitr-slides.md -o knitr-slides.html</code></li>
<li>the file <a href="https://github.com/yihui/knitr/blob/master/inst/examples/knitr-slides.md"><code>knitr-slides.md</code></a> is the markdown output from its <a href="https://github.com/yihui/knitr/blob/master/inst/examples/knitr-slides.Rmd">source</a>: <code>library(knitr); knitr(&#39;knitr-slides.Rmd&#39;)</code></li>
<li>or simple click the button <code>Knit HTML</code> in RStudio</li>
</ul>

<h1>For ninjas</h1>

<ul>
<li>you should tweak the default style; why not try some <a href="http://www.google.com/webfonts">Google web fonts</a>? (think how painful it is to wrestle with fonts in LaTeX)</li>
<li>pandoc provides 3 types of HTML5 slides (dzslides is one of them)</li>
<li>you can tweak the default template to get better appearances</li>
<li>if you have come up with a better dzslides template, please let me know or contribute to pandoc directly (e.g. <code>pre</code> blocks should have <code>max-width</code> and <code>max-height</code>)</li>
</ul>

<h1>Reproducible research</title>

<base target="_blank"/>

<style type="text/css">

body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: Consolas, 'Lucida Console', 'DejaVu Sans Mono', 'Droid Sans Mono', Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
}

.r {
   background-color: #F8F8F8;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
	border-top-style: dotted;
	border-top-color: #999999;
}

/*
 * highlight.styles.css
 *
 * RStudio style for highlight.js in HTML preview. Initial template based
 * on highlight.js VS style by JasonDiamond, tweaked to look more like
 * the default RStudio TextMate theme.
 *
 * Copyright (C) 2009-12 by RStudio, Inc.
 * Copyright (C) Jason Diamond <jason@diamond.name>
 *
 * This program is licensed to you under the terms of version 3 of the
 * GNU Affero General Public License. This program is distributed WITHOUT
 * ANY EXPRESS OR IMPLIED WARRANTY, INCLUDING THOSE OF NON-INFRINGEMENT,
 * MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. Please refer to the
 * AGPL (http://www.gnu.org/licenses/agpl-3.0.txt) for more details.
 *
 */

pre code {
  display: block; padding: 0.5em;
}

pre .operator,
pre .paren {
  color: rgb(104, 118, 135)
}

pre .literal {
  color: rgb(88, 72, 246)
}

pre .number {
  color: rgb(0, 0, 205);
}

pre .comment,
pre .annotation,
pre .template_comment,
pre .diff .header,
pre .chunk,
pre .apache .cbracket {
  color: rgb(76, 136, 107);
}

pre .keyword,
pre .id,
pre .title,
pre .built_in,
pre .aggregate,
pre .smalltalk .class,
pre .winutils,
pre .bash .variable,
pre .tex .command {
  color: rgb(0, 0, 255);
}

pre .string,
pre .title,
pre .parent,
pre .tag .value,
pre .rules .value,
pre .rules .value .number,
pre .ruby .symbol,
pre .ruby .symbol .string,
pre .ruby .symbol .keyword,
pre .ruby .symbol .keymethods,
pre .instancevar,
pre .aggregate,
pre .template_tag,
pre .django .variable,
pre .addition,
pre .flow,
pre .stream,
pre .apache .tag,
pre .date,
pre .tex .formula {
  color: rgb(3, 106, 7);
}

pre .ruby .string,
pre .decorator,
pre .filter .argument,
pre .localvars,
pre .array,
pre .attr_selector,
pre .pseudo,
pre .pi,
pre .doctype,
pre .deletion,
pre .envvar,
pre .shebang,
pre .preprocessor,
pre .userType,
pre .apache .sqbracket,
pre .nginx .built_in,
pre .tex .special,
pre .input_number {
  color: rgb(43, 145, 175);
}

pre .phpdoc,
pre .javadoc,
pre .xmlDocTag {
  color: rgb(128, 159, 191);
}

pre .vhdl .type { font-weight: bold; }
pre .vhdl .string { color: #666666; }
pre .vhdl .literal { color: rgb(163, 21, 21); }




@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>

<script type="text/javascript">
   var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]||p=="no-highlight"){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v=="no-highlight"){return}if(v){y=d(v,x)}else{y=g(x);v=y.language}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
   hljs.initHighlightingOnLoad();  
</script>



</head>

<body>
<p>% R Bootcamp HTML Slides<br/>
% Jared Knowles<br/>
% 2012/05/13</p>

<h1>R</h1>

<ul>
<li>R is an Open Source (and freely available) environment for statistical computinga nd graphics</li>
<li>Available for Windows, Mac OS X, and Linux</li>
<li>R is being actively developed with two major releases per year and dozens of releases of add on packages</li>
<li>R can be extended with &#39;packages&#39; that contain data, code, and documentation to add new functionality</li>
</ul>

<h1>Why Use R</h1>

<ul>
<li>R is a common tool among data experts at major universities</li>
<li>No need to go through procurement, R can be installed in any environment on any machine and used with no licensing or agreements needed</li>
<li>R source code is very readable to increase transparency of processes</li>
<li>R code is easily borrowed from and shared with others</li>
<li>R is incredibly flexible and can be adapted to specific local needs</li>
<li>R is under incredibly active development, improving greatly, and supported wildly by both professional and academic developers</li>
</ul>

<h1>R Advantages Continued</h1>

<ul>
<li>R is platform agnostic&ndash;Linux, Mac, PC, server, desktop, etc.</li>
<li>R can output results in a variety of formats</li>
<li>R can build routines straight out of a database for common and universal reporting</li>
</ul>

<h2>R Can Compliment Other Tools</h2>

<ul>
<li>R plays nicely with data from Stata, SPSS, SAS and others</li>
<li>R can check work, produce output, visualize results from other programs</li>
<li>R can do bleeding edge analysis that aren&#39;t available in proprietary packages yet</li>
<li>R is becoming more prevalent in undergraduate statistics courses</li>
</ul>

<h1>R As A Calculator</h1>

<pre><code class="r">2 + 2  # add numbers
</code></pre>

<pre><code class="no-highlight">## [1] 4
</code></pre>

<pre><code class="r">2 * pi  #multiply by a constant
</code></pre>

<pre><code class="no-highlight">## [1] 6.283
</code></pre>

<pre><code class="r">7 + runif(1, min = 0, max = 1)  #add a random variable
</code></pre>

<pre><code class="no-highlight">## [1] 7.555
</code></pre>

<pre><code class="r">4^4  # powers
</code></pre>

<pre><code class="no-highlight">## [1] 256
</code></pre>

<pre><code class="r">sqrt(4^4)  # functions
</code></pre>

<pre><code class="no-highlight">## [1] 16
</code></pre>

<h1>Using the Workspace</h1>

<ul>
<li>To do more we need to learn how to manipulate the &#39;workspace&#39;.</li>
<li>This includes all the scalars, vectors, datasets, and functions stored in memory.</li>
<li>All R objects are stored in the memory of the computer, limiting the available space for calculation to the size of the RAM on your machine.</li>
<li>R makes organizing the workspace easy.</li>
</ul>

<pre><code class="r">x &lt;- 5  #store a variable with &lt;-
x  #print the variable
</code></pre>

<pre><code class="no-highlight">## [1] 5
</code></pre>

<pre><code class="r">z &lt;- 3
ls()  #list all variables
</code></pre>

<pre><code class="no-highlight">## [1] &quot;x&quot; &quot;z&quot;
</code></pre>

<pre><code class="r">ls.str()  #list and describe variables
</code></pre>

<pre><code class="no-highlight">## x :  num 5
## z :  num 3
</code></pre>

<pre><code class="r">rm(x)  # delete a variable
ls()
</code></pre>

<pre><code class="no-highlight">## [1] &quot;z&quot;
</code></pre>

<h1>R as a Language</h1>

<ul>
<li>R is more than statistical software, it is a computer language</li>
<li>Like any language it has rules (some poorly enforced), and conventions</li>
<li>You will learn more as you go, but we&#39;ll go over a few to start</li>
</ul>

<ol>
<li>Case sensitivity matters</li>
</ol>

<pre><code class="r">a &lt;- 3
A &lt;- 4
print(c(a, A))
</code></pre>

<pre><code class="no-highlight">## [1] 3 4
</code></pre>

<ul>
<li><font color="red"><strong>a</strong> &#8800; <strong>A</strong></font> 

<ol>
<li>What happens if I type <strong>print(a,A)</strong>?</li>
</ol></li>
<li>So what does <strong>c</strong> do?</li>
</ul>

<pre><code class="r">A &lt;- c(3, 4)
print(A)
</code></pre>

<pre><code class="no-highlight">## [1] 3 4
</code></pre>

<ul>
<li><strong>c</strong> stands for concatenate and allows vectors to have multiple elements</li>
</ul>

<h1>Vectors</h1>

<ul>
<li>Everything is a vector in R, even single numbers</li>
</ul>

<pre><code class="r">print(1)
</code></pre>

<pre><code class="no-highlight">## [1] 1
</code></pre>

<pre><code class="r"># The 1 in braces means this element is a vector of length 1
print(&quot;This tutorial is awesome&quot;)
</code></pre>

<pre><code class="no-highlight">## [1] &quot;This tutorial is awesome&quot;
</code></pre>

<pre><code class="r"># This is a vector of length 1 consisting of a single &#39;string of
# characters&#39;
print(LETTERS)
</code></pre>

<pre><code class="no-highlight">##  [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot;
## [18] &quot;R&quot; &quot;S&quot; &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;
</code></pre>

<pre><code class="r"># This vector has 26 character elements
print(LETTERS[6])
</code></pre>

<pre><code class="no-highlight">## [1] &quot;F&quot;
</code></pre>

<pre><code class="r"># The sixth element of this vector has length 1
length(LETTERS[6])
</code></pre>

<pre><code class="no-highlight">## [1] 1
</code></pre>

<pre><code class="r"># The length of that element is a number with length 1
</code></pre>

<h1>Language</h1>

<ul>
<li>In language there are a number of ways to say the same thing

<ul>
<li> <font color="green">The dog chased the cat.</font> </li>
<li> <font color ="blue">The cat was chased by the dog.</font></li>
<li> <font color ="red">By the dog, the cat was chased.</font></li>
</ul></li>
<li>Some ways are more elegant than others, all convey the same message. </li>
</ul>

<pre><code class="r">a &lt;- runif(100)  # Generate 100 random numbers
b &lt;- runif(100)  # 100 more
c &lt;- NULL  # Setup for loop (declare variables)
for (i in 1:100) {
    # Loop just like in Java or C
    c[i] &lt;- a[i] * b[i]
}
d &lt;- a * b
identical(c, d)  # Test equality
</code></pre>

<pre><code class="no-highlight">## [1] TRUE
</code></pre>

<ul>
<li>Which is nicer?</li>
</ul>

<h1>Reading Data In</h1>

<ul>
<li>To read data in we have to tell R where it currently is on the filesystem by setting a working directory</li>
<li>Then we have to tell it where to look for the dataset and what format that dataset is in</li>
<li>CSV files are <strong>simplest</strong> for beginning use cases, but R is flexible</li>
</ul>

<pre><code class="r"># Set working directory to the tutorial director In RStudio can do this in
# &#39;Tools&#39; tab
setwd(&quot;~/r_tutorial_ed&quot;)
# Load some data
df &lt;- read.csv(&quot;data/smalldata.csv&quot;)
# Note if we don&#39;t assign data to &#39;df&#39; R just prints contents of table
</code></pre>

<h1>Objects</h1>

<ul>
<li>Everything in R is an object&ndash;even functions</li>
<li>Objects can be manipulated many ways</li>
<li>A common example is applying the summary&#39; function to a variety of object types and seeing how it adapts</li>
</ul>

<pre><code class="r">summary(df[, 28:31])  #summary look at df object
</code></pre>

<pre><code class="no-highlight">##    schoollow         readSS        mathSS           proflvl    
##  Min.   :0.000   Min.   :252   Min.   :210   advanced   : 788  
##  1st Qu.:0.000   1st Qu.:430   1st Qu.:418   basic      : 523  
##  Median :0.000   Median :495   Median :480   below basic: 210  
##  Mean   :0.242   Mean   :496   Mean   :483   proficient :1179  
##  3rd Qu.:0.000   3rd Qu.:562   3rd Qu.:543                     
##  Max.   :1.000   Max.   :833   Max.   :828                     
</code></pre>

<pre><code class="r">summary(df$readSS)  #summary of a single column
</code></pre>

<pre><code class="no-highlight">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##     252     430     495     496     562     833 
</code></pre>

<p>-The <strong>$</strong> says to look for object <strong>readSS</strong> in object <strong>df</strong></p>

<h1>Graphics too</h1>

<pre><code class="r">library(ggplot2)  # Load graphics Package
qplot(readSS, mathSS, data = df, geom = &quot;hex&quot;) + theme_bw() + opts(title = &quot;Test Score Relationship&quot;)
</code></pre>

<p><img src="http://i.imgur.com/axnWn.png" alt="Student Test Scores"/> </p>

<h1>Handling Data in R</h1>

<ul>
<li>R handles data differently than many other statistical packages</li>
<li>In R, all elements are objects</li>
</ul>

<pre><code class="r">length(unique(df$school))
</code></pre>

<pre><code class="no-highlight">## [1] 173
</code></pre>

<pre><code class="r">length(unique(df$stuid))
</code></pre>

<pre><code class="no-highlight">## [1] 1200
</code></pre>

<ul>
<li>Results of function calls can be stored</li>
</ul>

<h1>How</h1>

<ul>
<li>source editor: <a href="http://www.rstudio.org/">RStudio</a> (perfect integration with <a href="http://yihui.name/knitr/"><strong>knitr</strong></a>; one-click compilation); currently you have to use the <a href="http://www.rstudio.org/download/preview">preview version</a> (&gt;= 0.96.109)</li>
<li>HTML5 slides converter: <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>; this document was generated by: <code>pandoc -s -S -i -t dzslides --mathjax knitr-slides.md -o knitr-slides.html</code></li>
<li>the file <a href="https://github.com/yihui/knitr/blob/master/inst/examples/knitr-slides.md"><code>knitr-slides.md</code></a> is the markdown output from its <a href="https://github.com/yihui/knitr/blob/master/inst/examples/knitr-slides.Rmd">source</a>: <code>library(knitr); knitr(&#39;knitr-slides.Rmd&#39;)</code></li>
<li>or simple click the button <code>Knit HTML</code> in RStudio</li>
</ul>

<h1>For ninjas</h1>

<ul>
<li>you should tweak the default style; why not try some <a href="http://www.google.com/webfonts">Google web fonts</a>? (think how painful it is to wrestle with fonts in LaTeX)</li>
<li>pandoc provides 3 types of HTML5 slides (dzslides is one of them)</li>
<li>you can tweak the default template to get better appearances</li>
<li>if you have come up with a better dzslides template, please let me know or contribute to pandoc directly (e.g. <code>pre</code> blocks should have <code>max-width</code> and <code>max-height</code>)</li>
</ul>

<h1>Reproducible research</h1>

<p>It is good to include the session info, e.g. this document is produced with <strong>knitr</strong> version <code>0.5</code>. Here is my session info:</p>

<pre><code class="r">print(sessionInfo(), locale = FALSE)
</code></pre>

<pre><code class="no-highlight">## R version 2.15.0 (2012-03-30)
## Platform: x86_64-pc-mingw32/x64 (64-bit)
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] ggplot2_0.9.0 knitr_0.5    
## 
## loaded via a namespace (and not attached):
##  [1] codetools_0.2-8    colorspace_1.1-1   dichromat_1.2-4   
##  [4] digest_0.5.2       evaluate_0.4.2     formatR_0.4       
##  [7] grid_2.15.0        highlight_0.3.1    MASS_7.3-17       
## [10] memoise_0.1        munsell_0.3        parser_0.0-14     
## [13] plyr_1.7.1         proto_0.3-9.2      RColorBrewer_1.0-5
## [16] Rcpp_0.9.10        reshape2_1.2.1     scales_0.2.0      
## [19] stringr_0.6        tools_2.15.0      
</code></pre>

</body>

</html>

